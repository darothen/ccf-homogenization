 ---------------------------- Module SHAPINP ------------------------------

c   verion      Description                                       date
c   ------  --------------------------------------------------  --------
c
c    --------------------------- Official Version USHCNv2 ----------------------
c
c    v6c    Restruct data directory for process from state subs  28may09
c
c    v6b    Critical fix - alignmoves - remove short 1st segment 
c              by adjusting first value & ym                    06oct08
c
c    v6     Set "a" flag for short segment removals             05jan07
c              Needed in auto-update process
c
c    ------------------------ Internal Beta Version USHCNv2 --------------------
c    ---------------------------------- 21 Dec 2006 ----------------------------
c
c    v5a    Set mmdates to MONTHLY index to adjust monthly      29nov06
c             values when annual (itimeres == 0)
c
c    v5     Alignmoves - Removed monthly values in TEMP array   13nov06
c
c              retro fix - mounit passed to inshp4              08nov06
c                     and meta record indices
c    v4f    Added mmdates for MMTS evaluation                   03nov06
c
c    v4e    Slight change in Last-dist-dir logic: if HCN and 
c             source = HCNSHF then "999 999" := MOVE            18may06
c
c    v4d    Set minimum segment length for the SHF "solid"      17nov05
c              suspect changepoints in alignmoves with minlenshf
c
c    v4c    make a more user (and data/meta) friendly alignmoves
c           by breaking up and simplifying the loops             28sep05
c
c    v4b    breakout the shf-data align wrt missing & minlen
c           so that it may be called for MM generated series     23aug05
c
c    v4a    includes changing sahist(yr,mth,stn) into            10aug05
c           sahist(ichgpt,stn)
c
c    v4     Rework the priorities for the COOP-3220 data and 
c           GPS revision.
c            1) Indentify probable GPS ONLY station history entry
c                as a NO MOVE
c            2) Remove mysterious Source == 0 from the COOP-3220
c                history
c                                                                04aug05
c
c    v3     Add the CDMP historical data to the mix (source = 3) 25may05
c             Use the CDMP with caution:
c             1) There is no obtime information
c             2) the previous distance fields are overwritten with
c                   the dist to P.O. if the previous dist is blank
c                   (see /home/cwilliam/CDMP_3220/stnhist)
c             3) the instrument strings are RIGHT justified
c
c    v1     Original insertion into UCPmonthly.v2.f             19jan05
